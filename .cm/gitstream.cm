triggers:
  exclude:
    branch:
      - r/dependabot/

automations:
  generate_pr_desc_on_new_pr:
    on:
      - pr_created
    if:
      - true
    run:
      - action: add-comment@v1
        args:
          comment: |
            {{ source | askAI("Experienced developer", "Summarize in simple terms the changes in this PR using bullet points.", "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") }}

  generate_pr_desc_on_ask_ai_label:
    on:
      - label_added
    if:
      - {{ pr.labels | match(term="/ask-ai qa") | some }}
    run:
      - action: add-comment@v1
        args:
          comment: |
            {{ source | askAI("qa tester", "Based on the given context, search for new functions without tests and suggest the tests to add.Â If all functions are covered completely, return 'no tests to suggest.'", "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") }}
